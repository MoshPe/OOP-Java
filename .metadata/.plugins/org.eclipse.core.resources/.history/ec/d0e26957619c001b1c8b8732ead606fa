package tasks;

import java.util.Arrays;

public class NamedTasks extends Tasks {
	private String[] names;

	public NamedTasks(String[] names) {
		super(names.length);
		this.names = names;
	}

	public boolean dependsOn(String task1, String task2) {
		int indexTask1 = 0;
		int indexTask2 = 0;
		boolean isExistTask1 = false;
		boolean isExistTask2 = false;
		for (int i = 0; i < names.length; i++) {
			if (task1.equals(names[i])) {
				isExistTask1 = true;
				indexTask1 = i;
			}
			if (task2.equals(names[i])) {
				isExistTask2 = true;
				indexTask2 = i;
			}
		}
		if (isExistTask1 && isExistTask2) {
			super.dependsOn(indexTask1, indexTask2);
			return true;
		}
		return false;
	}
	public String[] nameOrder() {
		String[] returnNames = new String[names.length];
		int[] namesIndexes = super.order();
		if(namesIndexes == null)
			return null;
		for(int i = 0; i < names.length ; i++) {
			returnNames[i] = names[namesIndexes[i]];
		}
		return returnNames;
	}
	
	public static void main(String[] args) {
		String[] names = {"zero", "one", "two", "three", "four", "five"};
		NamedTasks t2 = new NamedTasks(names);
		t2.dependsOn("three", "two");
		t2.dependsOn("one", "three");
		t2.dependsOn("two", "five");
		t2.dependsOn("four", "five");
		System.out.println(Arrays.toString(t2.nameOrder()));
	}
}
